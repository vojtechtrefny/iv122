<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>IV122 by vojtechtrefny</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">IV122 - Vojtěch Trefný</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://vojtechtrefny.github.io/iv122/index.html" class="btn">Domů</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv1/index.html" class="btn">Úloha 1</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv2/index.html" class="btn">Úloha 2</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv3/index.html" class="btn">Úloha 3</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv4/index.html" class="btn">Úloha 4</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv5/index.html" class="btn">Úloha 5</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv6/index.html" class="btn">Úloha 6</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv7/index.html" class="btn">Úloha 7</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv8/index.html" class="btn">Úloha 8</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv9/index.html" class="btn">Úloha 9</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv10/index.html" class="btn">Úloha 10</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv11/index.html" class="btn">Úloha 11</a>
      <a href="https://vojtechtrefny.github.io/iv122/cv12/index.html" class="btn">Úloha 12</a>
      <a href="https://github.com/vojtechtrefny/iv122" class="btn">Zdrojový kód</a>
    </section>

    <section class="main-content">

<h3>CV7: Fraktály a chaos, komplexní čísla (Newton, Mandelbrot, Julia)</h3>

<h4>A) Newtonův fraktál</h3>

<div style="text-align: center">
  <a href="newton1.png"><img src="newton1.png" style="height: 250px" /></a>
  <a href="newton2.png"><img src="newton2.png" style="height: 250px" /></a>
</div>

<p>Klasické obarvení podle toho, ke kterému kořeni bod konverguje. Odstín (&bdquo;tmavost&ldquo;)
  znázorňuje rychlost konvergence.</p>

  <ul>
    <li><a href="https://github.com/vojtechtrefny/iv122/blob/master/cv7/newton.py">Kód</a></i></li>
  </ul>

<h4>B) Mandelbrotova množina</h4>

<div style="text-align: center">
  <a href="mandelbrot1.png"><img src="mandelbrot1.png" style="height: 250px" /></a>
  <a href="mandelbrot2.png"><img src="mandelbrot2.png" style="height: 250px" /></a>
  <a href="mandelbrot3.png"><img src="mandelbrot3.png" style="height: 250px" /></a>
</div>

<p>Obarvení podle počtu iterací potřebných k překročení velikosti 2 -- ve stupních šedé a barevně.</p>

  <ul>
    <li><a href="https://github.com/vojtechtrefny/iv122/blob/master/cv7/mandelbrot.py">Kód</a></i></li>
  </ul>

<h4>C) Juliova množina</h4>

<div style="text-align: center">
  <a href="julia1.png"><img src="julia1.png" style="height: 250px" /></a>
  <a href="julia2.png"><img src="julia2.png" style="height: 250px" /></a>
  <a href="julia3.png"><img src="julia3.png" style="height: 250px" /></a>
</div>

<p>Obarvení podle počtu iterací potřebných k překročení velikosti 2 -- ve stupních šedé a barevně.</p>

  <ul>
    <li><a href="https://github.com/vojtechtrefny/iv122/blob/master/cv7/julia.py">Kód</a></i></li>
  </ul>

<h4>D) Zrychlení</h4>

<p>Pokusil jsem se zrychlit průběh generování Newtonova fraktálů paralelním zpracováním výpočtů.
Protože Python neumožňuje paralelní zpracování pomocí vláken, pokusil jsem se využít knihovnu
<em>multiprocessing</em> pro vytvoření více procesů-workerů a výpočet rozdělil jednoduše na
čtvrtiny (resp. na jakýkoli zlomek podle počtu procesorů) podle osy x.</p>
<p>Bohužel jsem narazil na problém, kdy sdílená fronta (<em>multiprocessing.Queue</em>) má
v Pythonu velmi malý limit na paměť (<a href="https://bugs.python.org/issue8237">bug</a>) a
z procesů jsem tak nemohl &bdquo;vytáhnout&ldquo; spočtená data pro obrázek větší než 20x20 pixelů.</p>
<p>V tomto případě je výsledek pro paralelní zpracování dokonce cca. 5x pomalejší než u neparalelního
pravděpodobně vlivem režie vytváření nových procesů (samotný výpočet pro obrázek 20x20 pixelů trvá méně než
setinu sekundy).</p>
<p>Výpočet pro obrázek o velikosti 800x800 px bez předávání parametrů (a tedy bez vykreslení, pouze samotný výpočet)
je urychlen cca. 3,4krát (na čtyřjádrovém procesoru) --  1,54 sekundy vs. 5.27 sekundy.</p>
<p>Později jsem se rozhodl vyzkoušet předání vypočtených hodnot pomocí souborů (jednotlivé procesy výsledky
zapsaly do souboru odkud je pak proces vytvářející obrázek přečetl). Zrychlení v tomto případě bylo na dvoujádrovém
procesoru (a tedy se dvěma procesy na výpočet) z 11.31 sekund na 7.18 sekund, tedy cca. 1.5 násobné.</p>

<ul>
  <li><a href="https://github.com/vojtechtrefny/iv122/blob/master/cv7/parallel.py">Kód</a></i></li>
</ul>
